const navButton=document.querySelector(".nav__dropdown-button"),navDropdown=document.querySelector(".nav__dropdown"),navExtra=document.querySelector(".nav__extra"),phoneButton=document.querySelector(".contacts__button--phone"),mailButton=document.querySelector(".contacts__button--mail"),phoneList=document.querySelector(".contacts-list-phone"),mailList=document.querySelector(".contacts-list-mail"),phoneWrap=document.querySelector(".contacts__phone-wrap"),mailWrap=document.querySelector(".contacts__mail-wrap"),sliderBorder=document.querySelectorAll(".slider__border"),animateItems=document.querySelectorAll(".animation"),modalArea=document.querySelector(".modal"),modalWrapper=document.querySelector(".modal__wrapper"),orders=document.querySelectorAll(".order"),page=document.querySelector(".page"),modalClose=document.querySelector(".modal__close"),body=document.querySelector("body");let isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()?(body.classList.add("touch"),navDropdown.addEventListener("click",(function(){(phoneList.classList.contains("contacts-list-phone--open")||mailList.classList.contains("contacts-list-mail--open"))&&(phoneList.classList.remove("contacts-list-phone--open"),phoneButton.classList.remove("contacts__button--phone-opened"),mailList.classList.remove("contacts-list-mail--open"),mailButton.classList.remove("contacts__button--phone-opened")),navExtra.classList.toggle("nav__extra--open"),navButton.classList.toggle("nav__dropdown-button--opened")}))):body.classList.add("mouse"),isMobile.any()?(body.classList.add("touch"),phoneWrap.addEventListener("click",(function(){(navExtra.classList.contains("nav__extra--open")||mailList.classList.contains("contacts-list-mail--open"))&&(navExtra.classList.remove("nav__extra--open"),navButton.classList.remove("nav__dropdown-button--opened"),mailList.classList.remove("contacts-list-mail--open"),mailButton.classList.remove("contacts__button--phone-opened")),phoneList.classList.toggle("contacts-list-phone--open"),phoneButton.classList.toggle("contacts__button--phone-opened")}))):body.classList.add("mouse"),isMobile.any()?(body.classList.add("touch"),mailWrap.addEventListener("click",(function(){(phoneList.classList.contains("contacts-list-phone--open")||navExtra.classList.contains("nav__extra--open"))&&(phoneList.classList.remove("contacts-list-phone--open"),phoneButton.classList.remove("contacts__button--phone-opened"),navExtra.classList.remove("nav__extra--open"),navButton.classList.remove("nav__dropdown-button--opened")),mailList.classList.toggle("contacts-list-mail--open"),mailButton.classList.toggle("contacts__button--phone-opened")}))):body.classList.add("mouse");for(let e=0;e<orders.length;e++)orders[e].addEventListener("click",(function(e){e.preventDefault(),modalArea.classList.add("modal--open"),page.classList.add("page-modal")}));function initSlider(e,t){let o=document.querySelectorAll(".slider__image"),n=0;Array.prototype.forEach.call(o,(function(e){0===n?(e.style.display="block",e.classList.add("slider__image--active")):e.style.display="none",n++})),setTimeout((function(){n=0,function e(){o=document.querySelectorAll(".slider__image"),o[n].classList.remove("slider__image--active"),setTimeout((function(){o[n].style.display="none",n++,n===o.length&&(n=0),o[n].style.display="block",setTimeout((function(){o[n].classList.add("slider__image--active")}),0)}),0),setTimeout((function(){e()}),t)}()}),t)}if(initSlider(".slider",2e3),animateItems.length>0){function animationOnScroll(){for(let e=0;e<animateItems.length;e++){const t=animateItems[e],o=t.offsetHeight,n=offset(t).top,s=8;let a=window.innerHeight-o/s;o>window.innerHeight&&(a=window.innerHeight-window.innerHeight/s),scrollY>n-a&&scrollY<n+o?t.classList.add("active"):t.classList.contains("animation-no-repeat")||t.classList.remove("active")}}function offset(e){const t=e.getBoundingClientRect(),o=window.scrollX||document.documentElement.scrollLeft,n=window.scrollY||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}window.addEventListener("scroll",animationOnScroll),setTimeout(()=>{animationOnScroll()},100)}modalArea.onmousedown=function(e){let t=e.target,o=modalArea.getElementsByClassName("modal__wrapper")[0];null===t.closest("."+o.className)&&(this.classList.remove("modal--open"),page.classList.remove("page-modal"))},document.addEventListener("keydown",e=>{"Escape"===e.key&&(modalArea.classList.remove("modal--open"),page.classList.remove("page-modal"))}),modalClose.addEventListener("click",e=>{modalArea.classList.remove("modal--open"),page.classList.remove("page-modal")});